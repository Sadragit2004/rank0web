<style>
    .categories {
        margin: 20px auto;
        padding: 15px;
        width: 421px;
        background: #fff;
        border: 1px solid #ddd;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        transition: max-height 0.4s ease, padding 0.4s ease; /* انیمیشن برای باز و بسته شدن */
        max-height: 60px; /* ارتفاع پیش‌فرض در حالت بسته */
    }

    .categories.open {
        max-height: 400px; /* ارتفاع در حالت باز */
        overflow-y: auto; /* فعال کردن اسکرول در حالت باز */
    }

    .categories-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
    }

    .categories-header span {
        font-size: 18px;
        font-weight: bold;
    }

    .toggle-btn {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        transform: rotate(0deg);
        transition: transform 0.3s ease;
    }

    .toggle-btn.active {
        transform: rotate(180deg);
    }

    .categories-list {
        list-style: none;
        padding: 0;
        margin: 10px 0 0 0;
    }

    .categories-list li {
        display: flex;
        justify-content: space-between;
        padding: 10px 0;
        border-bottom: 1px solid #eee;
        font-size: 16px;
    }

    .categories-list li:last-child {
        border-bottom: none;
    }

    @media (max-width: 768px) {
        .categories {
            width: 90%;
        }

        .categories-header span {
            font-size: 16px;
        }

        .categories-list li {
            font-size: 14px;
        }
    }
</style>

<div class="categories" id="categoriesContainer">
    <div class="categories-header">
        <span>دسته بندی‌ها</span>
        <button class="toggle-btn" onclick="toggleCategories()">&#9660;</button>
    </div>
    <ul class="categories-list">

        {% for group in groups %}

        <li><span>{{group.blog_count}}</span><a href="{% url 'service:by_group' slug=group.slug %}">{{group.title_group}}</a></li>

        {% endfor %}

    </ul>
</div>

<script>
    function toggleCategories() {
        const container = document.getElementById('categoriesContainer');
        const button = document.querySelector('.toggle-btn');

        // تغییر وضعیت باز و بسته شدن
        container.classList.toggle('open');
        button.classList.toggle('active');
    }
</script>
